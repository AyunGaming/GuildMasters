{% extends "base.twig" %}

{% block title %} {{ kamenews.getTitle() }} {% endblock %}

{% block body %}
	{{ parent() }}

	{% if kamenews is not null %}
		<section id="container">
			<div class="grid grid-rows-2 px-8 mx-auto max-w-screen-xl bg-white dark:bg-gray-900 mt-5 mb-8">
				<div class="flex justify-center">
					<img alt="Illustration d'un journal" draggable="false" src="/public/images/kamenews/kamenewspaper.png">
				</div>

				<div class="grid lg:grid-cols-3 sm:grid-cols-2 mt-8">
					<div class="text-3xl text-gray-900 font-bold dark:text-white col-span-2">
						Kamenews n°{{ kamenews.getId() }} - {{ kamenews.getTitle() }}
					</div>

					<div class="mt-3 text-sm text-gray-900 font-bold italic dark:text-white justify-end">
						Publié par {{ kamenews.getWriter().getLogin() }} le {{ kamenews.getDate()|date("m/d/Y") }}
					</div>
				</div>

				{% for article in kamenews.getArticles() %}
					<div class="grid grid-rows-3 grid-cols-1 mt-4 ms-2 mb-3">
						<div class="text-2xl text-gray-900 font-bold dark:text-white">
							{{ article.getTitle() }}
						</div>

						<div class="text-gray-900 dark:text-white text-justify mt-3 ms-2">
							{% autoescape %}
								{{ article.getText()|raw }}
							{% endautoescape %}
						</div>

						<div class="grid grid-cols-3 articleImages">
							{% for image in article.getImage() %}
								<div class="flex justify-center mt-4 imageContainer">
									<img class="rounded-lg shadow min-w-0 max-w-2xl images" src="/public/images/kamenews/{{ image.image_name }}" alt="Illustration du Kamenews">
								</div>
							{% endfor %}
						</div>
					</div>
					<hr/>
				{% endfor %}
			</div>
		</section>
	{% endif %}
{% endblock %}

{% block script %}
	<script src="/public/js/imagesTools.js" defer></script>
{% endblock %}
